{namespace vms=TYPO3\VmfdsSermons\ViewHelpers}
{namespace vmpdf=VMFDS\VmfdsPdf\ViewHelpers}
{namespace legal=VMFDS\Legalese\ViewHelpers}
<!--
@package vmfds_sermons
@copyright Copyright (c) 2012-2016 Volksmission Freudenstadt
@license http://www.gnu.org/licenses/gpl.html GNU General Public License v3 or later
@site http://open.vmfds.de
@author Christoph Fischer <chris@toph.de>
@date 2016-06-06

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<vmpdf:pdf filename="{sermon.preached -> f:format.date(format: 'Ymd')}-Technik.pdf" css="typo3conf/ext/vmfds_sermons/Resources/Private/Templates/Handout/Sermon/handout.css" layout="A4" orientation="P" defaultfontsize="9" defaultfont="opensans" leftmargin="10" rightmargin="10" topmargin="10" bottommargin="10" footermargin="0" headermargin="0">
    
    
    {sermon.preached -> f:format.date(format: '%A, %d. %B %Y')}        
    <h1>{sermon.title}<f:if condition="{sermon.subtitle}"><br />{sermon.subtitle}</f:if></h1>
<f:for each="{sermon.preacher}" as="preacher">
    <p>{preacher.name}<f:if condition="{preacher.email}">, {preacher.email}</f:if></p>
</f:for>
<h2>Folien√ºbersicht</h2>
<hr />
<f:for each="{sermon.slides}" as="slide" iteration="i">
    <div class="infoblock" style="float:left; width: 8.9cm; height: 5cm; padding: 10px">
        <div style="margin-bottom: 5px;">
            <div style="float: left; color: #fff; text-align: center; font-size: 16px; background: #1a1a1a; border-radius: 50%; padding: 2px; padding-top: 4px; margin-right: 10px; width: 30px; height: 30px;">
                {i.cycle}
            </div> 
            <div style="margin-left: 7px; padding-top: 7px; float: left;">
                <h3>{slide.title}</h3>
            </div>
        </div>
        <div style="float: left; margin: 0 10px 10px 0; width: 160px;">
        <legal:copyrightedImage style="border: solid 1px darkgray;" src="{slide.image.originalResource.publicUrl}" width="150" useDivs="1" />
        </div>
        <div style="float: left; ">
        {slide.techNotes -> f:format.html()}            
        </div>
    </div>
        
</f:for>
</vmpdf:pdf>
